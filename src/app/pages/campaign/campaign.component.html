<div class="campaign-container">

  <!-- LEFT PANEL -->
  <section class="wizard-panel panel-left">
    <nav class="wizard-tabs">
      <span [class.active]="step === 'details'">Campaign Details</span>
      <span [class.active]="step === 'theme'">Select Theme</span>
    </nav>
    <div class="panel-content">
      <ng-container [ngSwitch]="step">
        <app-campaign-details
          *ngSwitchCase="'details'"
          (validityChange)="onDetailsValidity($event)">
        </app-campaign-details>
        <app-select-theme-new
          *ngSwitchCase="'theme'"
          [verticals]="verticals"
          [templates]="templates"
          (verticalChange)="onVerticalSelected($event)"
          (templateChange)="onTemplateSelected($event)">
        </app-select-theme-new>
      </ng-container>
    </div>
  </section>

  <!-- MIDDLE PANEL -->
  <section class="wizard-panel panel-middle">
    <nav class="wizard-tabs">
      <span [class.active]="step === 'assets'">Select Assets</span>
      <span [class.active]="step === 'automation'">Automation</span>
    </nav>
    <div class="panel-content">
      <ng-container [ngSwitch]="step">
        <app-select-assets
          *ngSwitchCase="'assets'">
        </app-select-assets>

        <app-automation
          *ngSwitchCase="'automation'"
          [automatedAssets]="automatedAssets"
          (increase)="increaseChildCount($event)"
(decrease)="decreaseChildCount($event)"

          (update)="updateAutomation()">
        </app-automation>
      </ng-container>
    </div>
  </section>

  <!-- RIGHT PANEL -->
  <section class="wizard-panel panel-right">
    <nav class="wizard-tabs">
      <span [class.active]="step === 'asset-details'">Asset Details</span>
      <span [class.active]="step === 'data-source'">Data Source</span>
    </nav>
    <div class="panel-content">
      <ng-container [ngSwitch]="step">
        <ng-container *ngSwitchCase="'asset-details'">
          <ng-container *ngIf="selectedAssetForDetails; else noAssetSelected">
            <app-asset-details
              [asset]="selectedAssetForDetails"
              (validityChange)="onAssetDetailsValidity($event)">
            </app-asset-details>
          </ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'data-source'">
          <ng-container *ngIf="selectedAssetForDetails; else noAssetSelected">
            <app-data-source
              [asset]="selectedAssetForDetails"
              (validityChange)="onDataSourceValidity($event)">
            </app-data-source>
          </ng-container>
        </ng-container>

        <ng-template #noAssetSelected>
          <div class="panel-help">
            <img src="assets/empty-illustration.svg" alt="" class="panel-img" />
            <div class="panel-msg-title">Nothing to Show</div>
            <div class="panel-msg-sub">Select an asset on the middle panel</div>
          </div>
        </ng-template>
      </ng-container>
    </div>
  </section>
</div>

<app-main-cta
  [backDisabled]="!canGoBack()"
  [nextDisabled]="!canGoNext()"
  (back)="onBack()"
  (next)="onNext()">
</app-main-cta>
