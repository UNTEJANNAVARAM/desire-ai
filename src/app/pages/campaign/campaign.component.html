<!-- ...Tabs omitted for brevity... -->

<div class="container">

  <!-- Part 1 -->
  <section class="part">
    <div class="tab-header">
      <span [class.active]="part1Step === 1" (click)="part1Step = 1">Campaign Details</span>
      <span [class.active]="part1Step === 2" (click)="part1Step = 2">Select Theme</span>
    </div>

    <ng-container *ngIf="part1Step === 1">
      <app-campaign-details (validityChange)="onCampaignValidity($event)"></app-campaign-details>
      <button class="next-btn" [disabled]="!isCampaignValid" (click)="nextPart1()">Next</button>
    </ng-container>

    <ng-container *ngIf="part1Step === 2">
      <app-select-theme (selected)="onThemeSelected($event)"></app-select-theme>
      <button class="back-btn" (click)="backPart1()">Back</button>
      <button class="next-btn" [disabled]="!isThemeSelected" (click)="part2Step = 1">Next</button>
    </ng-container>
  </section>

<!-- Part 2: Assets / Automation -->
<section class="part">
  <div class="tab-header">
    <span [class.active]="part2Step === 1" (click)="part2Step = 1">Select Assets</span>
    <span [class.active]="part2Step === 2" (click)="part2Step = 2">Automation</span>
  </div>

  <!-- Select Assets view -->
  <ng-container *ngIf="part2Step === 1">
    <app-select-assets 
      (selectionChange)="onAssetsSelected($event)"
    
      (assetSelected)="onSelectAsset($event)">
    </app-select-assets>
    <button class="next-btn" [disabled]="!isAssetsSelected" (click)="nextPart2()">Next</button>
  </ng-container>

  <!-- Automation view -->
  <ng-container *ngIf="part2Step === 2">
    <app-automation 
      (automationToggle)="onAutomationToggle($event)"
      (automationDone)="onAutomationDone($event)">
    </app-automation>
    <button class="back-btn" (click)="backPart2()">Back</button>
    <button class="next-btn" [disabled]="!isAutomationDone" (click)="part3Step = 1">Next</button>
  </ng-container>
</section>


  <!-- Part 3 -->
  <section class="part">
    <div class="tab-header">
      <span [class.active]="part3Step === 1" (click)="part3Step = 1">Asset Details</span>
      <span [class.active]="part3Step === 2" (click)="part3Step = 2">Data Source</span>
    </div>

    <ng-container *ngIf="part3Step === 1">
      <app-asset-details
        [asset]="currentAsset"
        (validityChange)="onAssetValidity($event)">
      </app-asset-details>
      <button class="next-btn" [disabled]="!isAssetValid" (click)="nextPart3()">Save &amp; Next</button>
    </ng-container>

    <ng-container *ngIf="part3Step === 2">
      <app-data-source
        [asset]="currentAsset"
        (validityChange)="onDataSourceValidity($event)">
      </app-data-source>
      <button class="back-btn" (click)="backPart3()">Back</button>
    </ng-container>
  </section>

</div>
